<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN"> <HTML>	<HEAD><TITLE>DNS Server Help</TITLE><META http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link rel="stylesheet" href="basic.css" type="text/css"></HEAD>	<body>		<a name="DNSServerHelp"></a>		<h2>DNS Server Help</h2>		<p>The DNS Server tool allows you to configure the gateway computer running IPNetRouterX as a Local Caching Name Server. Some common reasons you might want to run your own DNS server are:</p>		<ol>			<li type="1">To simplify configuring hosts on your LAN (including virtual PCs running under Parallels Desktop). For example, if your Name Server address is assigned dynamically when you connect to the Internet such that you don't know what name server address to specify, you can use the LAN address of your gateway (or &quot;router&quot; address) as the &quot;name server&quot; address when configuring hosts on your LAN.		<li type="1">To assign easy to remember domain names to hosts on your LAN.			<li type="1">To improve web browsing performance. By configuring a local caching name server, LAN clients that attempt to access similar web pages can retrieve IP addresses from the name server cache instead of waiting for multiple responses from the Internet.			<li type="1">For greater flexibility and control over how domain names are translated.		</ol>		<p>Selecting DNS Server from the IPNetRouterX tool menu will open the DNS Server window as shown below.</p>		<p><img src="DNSServerHelp1.gif" width="670" height="369"></p>		<p>The DNS Server tool is actually a GUI front end for UNIX named (the name server daemon).  To begin running a simple local caching name server, select which network interface(s) should accept name server requests from the list on the left, and then press the Start button in the upper left corner.</p>		<p><img src="DNSServerHelp2.gif" width="670" height="369"></p>		<p>IPNetRouterX launches UNIX named with the configuration specified.   If you would like IPNetRouterX to restore this configuration the next time it is launched, press the Save button.</p>		<h3>Defining Local Names</h3>		<p>In addition to acting as a caching name server, you can also specify domain names that can be used to access hosts on your LAN instead of typing their IP addresses.  Use the table on the right to define names for hosts on your LAN.  The Domain Name System uses &quot;zones&quot; to identify areas of the name space a server is responsible for.  For each internal interface corresponding to an IP subnet on your LAN, you can specify a Zone Name which tells the DNS Server how to handle requests in that part of the name space.  In the image above, the full name for IP address 192.168.0.5 would be &quot;printer.lan&quot; .</p>		<p>Notice you can edit the Zone Name in the table, as well as the IP Address and Name.  To have the server recognize your changes, press Apply.</p>		<h3>DNS and DHCP</h3>		<p>Once you have enabled a local caching name server, you'll want clients on your LAN to use this server as their primary name server. If your LAN clients are normally configured via DHCP, the default DHCP server settings will take care of this for you. In the DHCP Server tool &quot;Lease Options&quot; tab, there is a field to enter a list of name server addresses to be handed out to clients. If you leave this field empty, or specify an IP address of &quot;0.0.0.0&quot;, IPNetRouterX will check to see if a local caching name server is running and substitute the address of that server. If no local name server is running, IPNetRouterX will substitute the name server information the gateway received from its upstream provider (typically from your ISP or the Network Preferences Panel).</p>		<p>The gateway machine itself can also be configured to use the local caching name server by specifying the loopback adddress 127.0.0.1 as the name server address.</p>		<h3>How It Works</h3>		<p>When IPNetRouterX launches UNIX named, it tells it to use /var/named_ipnr/named.conf as its primary configuration file.  This file contains server options and specifies &quot;zone files&quot; that determine how names and addresses are to be translated.  Internally, IPNetRouterX maintains a set of template configuration files.  When you press Apply, IPNetRouterX fills in these template files with information specific to your network configuration, and then copies them to the /var/named_ipnr directory.  You can view and edit these template files by clicking on the Template tab, and see how IPNetRouterX fills them in by pressing the &quot;Fill in Template&quot; button.</p>		<p><img src="DNSServerHelp3.gif" alt="" width="610" height="354" border="0"></p>		<p>When a template is filled in, IPNetRouterX searches for lines tagged &quot;IPNR_xxx&quot; and replaces them with information specific to your network configuration.</p>		<p>If your LAN incorporates more than one IP subnet, you can define a zone for each subnet and define names within each zone.  IPNetRouterX will automatically create the zone files needed to perform forward and reverse address-to-name resolution.</p>		<p>The name server software keeps a log to inform you about what it is doing in /Library/Logs/named.log . An easy way to view this log is to open the Console Application, press the Logs button (upper left), and select &quot;named.log&quot; from the list of logs that appear.  The &quot;Show named log&quot; button opens this log in the Console application for you in one easy step.</p>		<p>If you have IPNetMonitorX, you can test how the local name server is working using the &quot;NS Query&quot; tool.</p>		<p><img src="DNSServerHelp4.gif" width="688" height="348"></p>		<h3>Finding More Information</h3>		<p>The most widely used DNS software package is called &quot;BIND&quot; and includes the &quot;named&quot; software Apple supplies with Mac OS X.  The latest version is described in the &quot;<a href="http://www.subneural.net/files/bind9arm.pdf#search=%22Bind9arm%22">BIND 9 Administrator Reference Manual</a>&quot;. You may also find useful material by searching for tutorials on setting up &quot;DNS zone files&quot;.</p>		<hr>		<p><a href="DHCPServerHelp.html">Previous</a> | <a href="RoutesHelp.html">Next</a> | <a href="../NMTitle.html">Return to IPNetRouterX Help</a></p>		<p></p>	</body></HTML>